{% extends "users/basic.html" %}
{% block content %}
    <h2>Select Your Seats - {{ theater.name }}</h2>

    {% if messages %}
        <ul>
            {% for message in messages %}
                <li style="color: red;">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <form method="POST" action="{% url 'book_seats' theater.id %}">
        {% csrf_token %}
        
        <div style="display: flex; flex-wrap: wrap;">
            {% for seat in seats %}
                <label style="margin: 5px; {% if seat.is_booked %} color: gray; text-decoration: line-through;{% endif %}">
                    <input type="checkbox" name="seats" value="{{ seat.id }}" {% if seat.is_booked %}disabled{% endif %}>
                    Seat {{ seat.seat_number }}  {{seat.price}} {% if seat.is_booked %}(Booked){% endif %}
                </label>
            {% endfor %}
        </div>

        <button type="submit">Book Selected Seats</button>
    </form>
{% endblock content %}
